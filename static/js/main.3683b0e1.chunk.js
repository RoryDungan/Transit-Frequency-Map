(this["webpackJsonptransit-frequency-map"]=this["webpackJsonptransit-frequency-map"]||[]).push([[0],{120:function(e,t,n){e.exports=n(202)},125:function(e,t,n){},127:function(e,t,n){},146:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(12),r=n.n(s),c=(n(125),n(37)),o=n.n(c),u=n(74),l=n(48),y=n(94),m=n(49),d=n(118),h=n(117),p=n(208),f=n(211),v=n(209),b=(n(127),n(128),n(210));function g(e){return i.a.createElement("div",{className:"Map"},i.a.createElement(p.a,{center:e.position,style:{flex:"1 1 auto"},zoom:12},i.a.createElement(f.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.geoJson?i.a.createElement(v.a,{data:e.geoJson}):void 0),e.loading?i.a.createElement("div",{className:"LoadingSpinner"},i.a.createElement(b.a,{size:"large"})):void 0)}n(146);var E=n(206),k=n(205),q=n(207),C=E.a.Option;function w(e){return i.a.createElement("div",{className:"Controls"},i.a.createElement(k.a,null,i.a.createElement(E.a,{className:"CitySelect",showSearch:!0,value:e.selectedCity,disabled:e.disabled,onChange:function(t){return e.setCity(t)}},Object.keys(e.cities).map((function(t){return i.a.createElement(C,{value:t,key:t},e.cities[t].name)}))),i.a.createElement(E.a,{className:"FrequencySelect",value:e.selectedFrequency,disabled:e.disabled,onChange:function(t){return e.setFrequency(t)}},e.frequencies.map((function(e){return i.a.createElement(C,{value:e,key:e},"Every ",e," minutes")}))),i.a.createElement(q.a.Group,{onChange:function(t){return e.setTime(t.target.value)},value:e.selectedTime,disabled:e.disabled},Object.keys(e.times).map((function(t){return i.a.createElement(q.a.Button,{key:t,value:t},e.times[t])})))))}var O=n(76),S=(n(201),[10,15,20]),j={allday:"All day",night:"Night"},x=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.call(this)).state={city:"sydney",time:"allday",frequency:15,loading:!0,geoJson:void 0},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.setDisplay("sydney","allday",15)}},{key:"componentWillUnmount",value:function(){this.shouldCancel=!0}},{key:"setDisplay",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(Object(u.a)({},this.state,{city:t,time:n,frequency:a,loading:!0,geoJson:void 0})),e.next=3,this.props.cityService.getCityData(t,n,a);case 3:if(i=e.sent,!this.shouldCancel){e.next=6;break}return e.abrupt("return");case 6:this.setState(Object(u.a)({},this.state,{loading:!1,geoJson:i}));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setCity",value:function(e){this.state.city!==e&&this.setDisplay(e,this.state.time,this.state.frequency)}},{key:"setFrequency",value:function(e){this.state.frequency!==e&&this.setDisplay(this.state.city,this.state.time,e)}},{key:"setTime",value:function(e){this.state.time!==e&&this.setDisplay(this.state.city,e,this.state.frequency)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement(w,{cities:O,selectedCity:this.state.city,setCity:function(t){return e.setCity(t)},frequencies:S,selectedFrequency:this.state.frequency,setFrequency:function(t){return e.setFrequency(t)},times:j,selectedTime:this.state.time,setTime:function(t){return e.setTime(t)},disabled:this.state.loading}),i.a.createElement(g,{position:O[this.state.city].position,geoJson:this.state.geoJson,loading:this.state.loading}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(113);r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(x,{cityService:function(e){return{getCityData:function(){var t=Object(l.a)(o.a.mark((function t(n,a,i){var s,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="cities/".concat(n,"-").concat(a,"-").concat(i,"mins.msg"),t.next=3,e(s);case 3:if((r=t.sent).ok){t.next=6;break}throw new Error("Tried to GET ".concat(s,", returned status ").concat(r.status));case 6:return t.next=8,Object(J.decodeAsync)(r.body);case 8:return c=t.sent,t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}}(fetch)})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e){e.exports=JSON.parse('{"adelaide":{"name":"Adelaide","position":[-34.9285,138.6007]},"brisbane":{"name":"Brisbane","position":[-27.4698,153.0251]},"canberra":{"name":"Canberra","position":[-35.2809,149.13]},"melbourne":{"name":"Melbourne","position":[-37.8136,144.9631]},"perth":{"name":"Perth","position":[-31.9505,115.8605]},"sydney":{"name":"Sydney","position":[-33.8688,151.2093]}}')}},[[120,1,2]]]);
//# sourceMappingURL=main.3683b0e1.chunk.js.map
(this["webpackJsonptransit-frequency-map"]=this["webpackJsonptransit-frequency-map"]||[]).push([[0],{113:function(e,t,n){e.exports=n(187)},118:function(e,t,n){},120:function(e,t,n){},123:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),s=n.n(i),c=(n(118),n(33)),o=n.n(c),u=n(70),l=n(45),y=n(89),p=n(46),m=n(111),h=n(112),f=n(193),d=n(195),v=n(194);n(120),n(121);function b(e){return r.a.createElement(f.a,{center:e.position,style:{flex:"1 1 auto"},zoom:12},r.a.createElement(d.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.geoJson?r.a.createElement(v.a,{data:e.geoJson}):void 0)}n(123);var g=n(192),k=n(191),E=g.a.Option;function q(e){return r.a.createElement("div",{className:"Controls"},r.a.createElement(k.a,null,r.a.createElement(g.a,{className:"CitySelect",value:e.selectedCity,onChange:function(t){return e.setCity(t)}},Object.keys(e.cities).map((function(t){return r.a.createElement(E,{value:t,key:t},e.cities[t].name)}))),r.a.createElement(g.a,{className:"FrequencySelect",value:e.selectedFrequency,onChange:function(t){return e.setFrequency(t)}},e.frequencies.map((function(e){return r.a.createElement(E,{value:e,key:e},"Every ",e," minutes")})))))}var C=n(73),w=(n(186),[10,15,20]),O=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.call(this)).state={city:"sydney",time:"allday",frequency:15,loading:!0,geoJson:void 0},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setDisplay("sydney","allday",15)}},{key:"componentWillUnmount",value:function(){this.shouldCancel=!0}},{key:"setDisplay",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(Object(u.a)({},this.state,{city:t,time:n,frequency:a,loading:!0,geoJson:void 0})),e.next=3,this.props.cityService.getCityData(t,n,a);case 3:if(r=e.sent,!this.shouldCancel){e.next=6;break}return e.abrupt("return");case 6:this.setState(Object(u.a)({},this.state,{loading:!1,geoJson:r}));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setFrequency",value:function(e){this.state.frequency!==e&&this.setDisplay(this.state.city,this.state.time,e)}},{key:"setCity",value:function(e){this.state.city!==e&&this.setDisplay(e,this.state.time,this.state.frequency)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(q,{cities:C,selectedCity:this.state.city,setCity:function(t){return e.setCity(t)},frequencies:w,selectedFrequency:this.state.frequency,setFrequency:function(t){return e.setFrequency(t)}}),r.a.createElement(b,{position:C[this.state.city].position,geoJson:this.state.geoJson}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=n(107);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,{cityService:function(e){return{getCityData:function(){var t=Object(l.a)(o.a.mark((function t(n,a,r){var i,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="/cities/".concat(n,"-").concat(a,"-").concat(r,"mins.msg"),t.next=3,e(i);case 3:if((s=t.sent).ok){t.next=6;break}throw new Error("Tried to GET ".concat(i,", returned status ").concat(s.status));case 6:return t.next=8,Object(x.decodeAsync)(s.body);case 8:return c=t.sent,t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}}(fetch)})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e){e.exports=JSON.parse('{"adelaide":{"name":"Adelaide","position":[-34.9285,138.6007]},"brisbane":{"name":"Brisbane","position":[-27.4698,153.0251]},"canberra":{"name":"Canberra","position":[-35.2809,149.13]},"melbourne":{"name":"Melbourne","position":[-37.8136,144.9631]},"perth":{"name":"Perth","position":[-31.9505,115.8605]},"sydney":{"name":"Sydney","position":[-33.8688,151.2093]}}')}},[[113,1,2]]]);
//# sourceMappingURL=main.e4322c78.chunk.js.map